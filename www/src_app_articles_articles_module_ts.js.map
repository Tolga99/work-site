{"version":3,"file":"src_app_articles_articles_module_ts.js","mappings":"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","sources":["./src/app/articles/articles-routing.module.ts","./src/app/articles/articles.module.ts","./src/app/articles/articles.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { Articles } from './articles';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Articles\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ArticlesRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ArticlesRoutingModule } from './articles-routing.module';\n\nimport { Articles } from './articles';\nimport { SharedModule } from '../shared/shared.module';\nimport { MaterialModule } from '../material.module';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ArticlesRoutingModule,\n    SharedModule,MaterialModule\n  ],\n  declarations: [Articles]\n})\nexport class ArticlesModule {}\n","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { NavController } from '@ionic/angular';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { isThursday } from 'date-fns';\r\nimport { threadId } from 'worker_threads';\r\nimport { NgbdModalFocus } from '../modal/modal-focus';\r\nimport { Category } from '../models/category';\r\nimport { Product } from '../models/product';\r\nimport { StorageService } from '../services/storage.service';\r\n\r\n@Component({\r\n  selector: 'app-articles',\r\n  templateUrl: './articles.html',\r\n  styleUrls: ['./articles.scss'],\r\n})\r\nexport class Articles implements OnInit {\r\n  devise = '';\r\n  public allowedPageSizes = [5, 10, 15];\r\n  displayMode = 'full';\r\n  showPageSizeSelector = true;\r\n  showInfo = true;\r\n  showNavButtons = true;\r\n  \r\n  artList : Array<Product> = [];\r\n  catList : Array<Category> = [];\r\n  actualCat : Category = null;\r\n  actualCatLevel = 0;\r\n  openCatAccordion = null;\r\n  public modal = new NgbdModalFocus(this.modalS);\r\n  constructor(private modalS : NgbModal,private storageService:StorageService, private router:Router,private route:ActivatedRoute\r\n    , private navController : NavController)\r\n  {\r\n  }\r\n\r\n  async ionViewDidEnter(){\r\n    this.artList = await this.storageService.get('Articles');\r\n\r\n    this.catList = await this.storageService.get('Categories');\r\n    this.devise = await this.storageService.get('devise');\r\n    if(this.devise == null)\r\n      this.devise = '';\r\n    if(this.catList!=null)\r\n    {\r\n      this.actualCat =this.catList.find(a => a.categoryId === this.route.snapshot.paramMap.get('actualCat'));\r\n      this.enterCategory(this.actualCat);\r\n    }\r\n    if(this.catList!=null)\r\n    {\r\n      this.catList = this.catList.filter(a => a.categoryParent == null);\r\n      this.openCatAccordion = 'categories';\r\n    }else this.openCatAccordion = '';\r\n    // this.catList.forEach(element => {\r\n    //   if(element.categoryImage==null)\r\n    //     element.categoryImage='..//resources//White-square.jpg';\r\n    // });\r\n  }\r\n\r\n  async ngOnInit() {\r\n    this.storageService.init();\r\n    this.artList = [];\r\n    this.catList = await this.storageService.get('Categories');\r\n    if(this.catList!=null)\r\n    {\r\n      this.catList = this.catList.filter(a => a.categoryParent == null);\r\n      this.openCatAccordion = 'categories';\r\n    }else this.openCatAccordion = '';\r\n    this.catList.forEach(element => {\r\n      if(element.categoryImage==null)\r\n        element.categoryImage='..//resources//White-square.jpg';\r\n    });\r\n    this.devise = await this.storageService.get('devise');\r\n    console.log(this.devise);\r\n  }\r\n  createCategory()\r\n  {\r\n    console.log('Bouton nv cat');\r\n    if(this.actualCat!=null)\r\n      this.navController.navigateBack(['category-form',{actualCat : this.actualCat.categoryId}],{replaceUrl:true});\r\n    else this.navController.navigateBack(['category-form']);\r\n  }\r\n  modifyCategory(c : Category)\r\n  {\r\n    console.log(c);\r\n    if(c!=null)\r\n      this.navController.navigateBack(['category-form',\r\n                          {actualCat : this.actualCat?.categoryId,modifCat: c?.categoryId, modif: 'YES'}],\r\n                          {replaceUrl:true});\r\n    else this.navController.navigateBack(['category-form',{modif: 'YES'}],{replaceUrl:true});\r\n\r\n  }\r\n  async enterCategory(c : Category)\r\n  {\r\n    this.actualCat = c;\r\n    this.artList = await this.storageService.get('Articles'); // Dans les 2 cas on a besoin de la liste complete et actualisée\r\n    this.catList = await this.storageService.get('Categories');\r\n    const completeList = this.catList;\r\n    if(this.actualCat==null)\r\n    {\r\n      if(this.catList!=null)\r\n        this.catList = this.catList.filter(a => a.catLevel === 0);\r\n      console.log('only 0 :',this.catList);\r\n    }else\r\n    {\r\n      if(this.actualCat.categoryParent === null) // c'est son ID le parent\r\n      {\r\n        console.log('no parent');\r\n        this.catList = this.catList.filter(a => (a.categoryParent?.categoryId ?? '') === c.categoryId && a.catLevel === c.catLevel + 1);\r\n      }else\r\n      {\r\n        console.log('with parent',this.catList,c);\r\n        this.catList = this.catList.filter(a => c.categoryParent.categoryId === (a.categoryParent?.categoryId ?? '') && a.catLevel === c.catLevel + 1);\r\n      }\r\n      // if(this.artList!=null)\r\n      //   this.artList = this.artList.filter(a => a.categoryId === this.actualCat.categoryId);\r\n    }\r\n    if(this.artList !== null)\r\n    {\r\n        console.log('trying the art list',this.actualCat,this.artList);\r\n        if(this.actualCat !== null)\r\n        {\r\n          if(this.actualCat.categoryParent !== null)\r\n          {\r\n            this.artList = this.artList.filter(a => a.catLevel >= this.actualCat.catLevel && a.categoryParent.categoryId === this.actualCat.categoryParent.categoryId);\r\n          }else\r\n          {\r\n            this.artList = this.artList.filter(a => a.catLevel >= this.actualCat.catLevel && a.categoryParent.categoryId === this.actualCat.categoryId);\r\n          }\r\n        }\r\n    }\r\n\r\n    // + refresh la liste en dessous avec les articles filtrés AUSSI\r\n  }\r\n  async backCategory()\r\n  {\r\n    console.log(this.actualCat);\r\n    this.artList = await this.storageService.get('Articles'); // Dans les 2 cas on a besoin de la liste complete et actualisée\r\n    if(this.actualCat==null || this.actualCat.catLevel === 0)\r\n    {\r\n      console.log('null actual cat');\r\n      this.enterCategory(null);\r\n    }\r\n    else\r\n    {\r\n      let cat = this.actualCat;\r\n      this.catList = await this.storageService.get('Categories');\r\n      console.log(this.catList);\r\n      this.actualCat = this.catList.find(a => (a.categoryParent?.categoryId ?? '') === (this.actualCat.categoryParent.categoryId ?? '') &&\r\n                                                a.catLevel === this.actualCat.catLevel -1);\r\n      this.catList = this.catList.filter(a => (a.categoryParent?.categoryId ?? '') === (cat.categoryParent.categoryId ?? '') &&\r\n                                                a.catLevel === cat.catLevel);\r\n      console.log('new actualCat :', this.actualCat,cat);\r\n      if(this.actualCat === undefined)\r\n      {\r\n       this.actualCat = cat.categoryParent;\r\n       console.log('renew cat : ',this.actualCat);\r\n      }\r\n    }\r\n    if(this.artList !== null)\r\n    {\r\n        console.log('trying the art list',this.actualCat,this.artList);\r\n        if(this.actualCat !== null)\r\n        {\r\n          if(this.actualCat.categoryParent !== null)\r\n          {\r\n            this.artList = this.artList.filter(a => a.catLevel >= this.actualCat.catLevel && a.categoryParent.categoryId === this.actualCat.categoryParent.categoryId);\r\n          }else\r\n          {\r\n            this.artList = this.artList.filter(a => a.catLevel >= this.actualCat.catLevel && a.categoryParent.categoryId === this.actualCat.categoryId);\r\n          }\r\n        }\r\n    }\r\n    // REfresh articles\r\n  }\r\n  createProduct()\r\n  {\r\n    if(this.actualCat!=null)\r\n      this.navController.navigateBack(['article-form',{actualCat : this.actualCat.categoryId}],{replaceUrl:true});\r\n    else this.navController.navigateBack(['article-form']);\r\n  }\r\n  modifyProduct(p : Product)\r\n  {\r\n    console.log(p);\r\n    if(p!=null)\r\n      this.navController.navigateBack(['article-form',{modifArt: p.productId, modif: 'YES'}],{replaceUrl:true});\r\n    else this.navController.navigateBack(['article-form',{modif: 'YES'}],{replaceUrl:true});\r\n  }\r\n  async deleteProduct(p : Product)\r\n  {\r\n    let res : string =null;\r\n    await this.modal.open('delArt',p.productName)\r\n    .then(result => result.result\r\n      .then((data) => {\r\n        res='OK';\r\n      }, (reason) => {\r\n      res='DISMISS' }\r\n      ));\r\n\r\n    if(res==='DISMISS')\r\n        return ;\r\n    this.artList = this.artList.filter(a => a.productId !== p.productId);\r\n    this.storageService.set('Articles',this.artList);\r\n  }\r\n  async deleteCategory(c : Category)\r\n  {\r\n    let res : string =null;\r\n    await this.modal.open('delCat',c.categoryName)\r\n    .then(result => result.result\r\n      .then((data) => {\r\n        res='OK';\r\n      }, (reason) => {\r\n      res='DISMISS' }\r\n      ));\r\n\r\n    if(res==='DISMISS')\r\n        return ;\r\n    this.catList = this.catList.filter(a => a.categoryId !== c.categoryId);\r\n    this.storageService.set('Categories',this.catList);\r\n  }\r\n}"],"names":["Component","ActivatedRoute","Router","NavController","NgbModal","NgbdModalFocus","StorageService","Articles","constructor","modalS","storageService","router","route","navController","ionViewDidEnter","artList","get","catList","devise","actualCat","find","a","categoryId","snapshot","paramMap","enterCategory","filter","categoryParent","openCatAccordion","ngOnInit","init","forEach","element","categoryImage","console","log","createCategory","navigateBack","replaceUrl","modifyCategory","c","modifCat","modif","completeList","catLevel","backCategory","cat","undefined","createProduct","modifyProduct","p","modifArt","productId","deleteProduct","res","modal","open","productName","then","result","data","reason","set","deleteCategory","categoryName","selector","template"],"sourceRoot":"webpack:///"}