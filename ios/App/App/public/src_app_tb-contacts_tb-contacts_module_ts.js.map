{"version":3,"file":"src_app_tb-contacts_tb-contacts_module_ts.js","mappings":"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","sources":["./src/app/tb-contacts/tb-contacts-routing.module.ts","./src/app/tb-contacts/tb-contacts.module.ts","./src/app/tb-contacts/tb-contacts.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { TabContacts } from './tb-contacts';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: TabContacts,\r\n  }\r\n];\r\n\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class TabContactsRoutingModule {}\r\n","import { IonicModule } from '@ionic/angular';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { TabContacts } from './tb-contacts';\r\nimport { TabContactsRoutingModule } from './tb-contacts-routing.module';\r\nimport { SharedModule } from '../shared/shared.module';\r\nimport { MaterialModule } from '../material.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    IonicModule,\r\n    CommonModule,\r\n    SharedModule,\r\n    TabContactsRoutingModule,\r\n    MaterialModule,\r\n\r\n  ],\r\n  declarations: [TabContacts]\r\n})\r\nexport class TabContactsModule {}\r\n","import { LiveAnnouncer } from '@angular/cdk/a11y';\r\nimport { Component, OnChanges, OnDestroy, OnInit, SimpleChanges, ViewChild } from '@angular/core';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatSort, Sort } from '@angular/material/sort';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { Router } from '@angular/router';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { NgbdModalFocus } from '../modal/modal-focus';\r\nimport { Chantier } from '../models/chantier';\r\nimport { User } from '../models/user';\r\nimport { StorageService } from '../services/storage.service';\r\n\r\n@Component({\r\n  selector: 'app-tb-contacts',\r\n  templateUrl: 'tb-contacts.html',\r\n  styleUrls: ['tb-contacts.css']\r\n})\r\nexport class TabContacts implements OnInit  {\r\n  \r\n  public allowedPageSizes = [5, 10, 15];\r\n  displayMode = 'full';\r\n  showPageSizeSelector = true;\r\n  showInfo = true;\r\n  showNavButtons = true;\r\n\r\n  contactsList: Array<User> = [];\r\n  public modal = new NgbdModalFocus(this.modalS);\r\n\r\n  constructor(private modalS : NgbModal,\r\n              private storageService:StorageService,\r\n              private router: Router,\r\n              private _liveAnnouncer: LiveAnnouncer)\r\n              {\r\n              }\r\n\r\n  async ionViewDidEnter(){\r\n    console.log('view did enter');\r\n    this.storageService.init();\r\n    this.contactsList = await this.storageService.get('Contacts');\r\n  }\r\n\r\n  async ngOnInit(): Promise<void> {\r\n    this.storageService.init();\r\n    this.contactsList = await this.storageService.get('Contacts');\r\n  }\r\n\r\n  CreateClient(){\r\n    console.log('create client');\r\n    this.router.navigate(['new-contact']);\r\n    // this.router.navigate(['tb-new-contact']);\r\n  }\r\n  openContact(e:any)\r\n  {\r\n    var user : User = e.data;\r\n    this.router.navigate(['client',{userId: user.userId}]);\r\n  }\r\n\r\n  EditContact(user:User)\r\n  {\r\n    this.router.navigate(['new-contact',{userId: user.userId}]);\r\n    console.log('click',user.firstName);\r\n  }\r\n  async deleteContact(user:User){\r\n    let res : string =null;\r\n    await this.modal.open('delCli',user.firstName+' '+user.lastName.toUpperCase())\r\n    .then(result => result.result\r\n      .then((data) => {\r\n        res='OK';\r\n      }, (reason) => {\r\n      res='DISMISS' }\r\n      ));\r\n\r\n    if(res==='DISMISS')\r\n        return ;\r\n    this.contactsList = this.contactsList.filter(a => a.userId !== user.userId);\r\n    this.storageService.set('Contacts', this.contactsList);\r\n  }\r\n  NewWork(us : User)\r\n  {\r\n    this.router.navigate(['createworksite',{userId : us.userId}],{replaceUrl:true});\r\n  }\r\n}\r\n\r\n"],"names":["LiveAnnouncer","Component","Router","NgbModal","NgbdModalFocus","StorageService","TabContacts","constructor","modalS","storageService","router","_liveAnnouncer","ionViewDidEnter","console","log","init","contactsList","get","ngOnInit","CreateClient","navigate","openContact","e","user","data","userId","EditContact","firstName","deleteContact","res","modal","open","lastName","toUpperCase","then","result","reason","filter","a","set","NewWork","us","replaceUrl","selector","template"],"sourceRoot":"webpack:///"}