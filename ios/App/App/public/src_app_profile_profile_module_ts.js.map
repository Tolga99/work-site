{"version":3,"file":"src_app_profile_profile_module_ts.js","mappings":"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","sources":["./src/app/explore-container/explore-container.component.ts","./src/app/explore-container/explore-container.module.ts","./src/app/profile/profile-routing.module.ts","./src/app/profile/profile.module.ts","./src/app/profile/profile.ts","./src/app/explore-container/explore-container.component.html","./src/app/profile/profile.html"],"sourcesContent":["import { Component, OnInit, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-explore-container',\r\n  templateUrl: './explore-container.component.html',\r\n  styleUrls: ['./explore-container.component.scss'],\r\n})\r\nexport class ExploreContainerComponent implements OnInit {\r\n  @Input() name: string;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {}\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ExploreContainerComponent } from './explore-container.component';\r\n\r\n@NgModule({\r\n  imports: [ CommonModule, FormsModule, IonicModule],\r\n  declarations: [ExploreContainerComponent],\r\n  exports: [ExploreContainerComponent]\r\n})\r\nexport class ExploreContainerComponentModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { Profile } from './profile';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: Profile\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class ProfileRoutingModule {}\r\n","import { IonicModule } from '@ionic/angular';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Profile } from './profile';\r\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\r\n\r\nimport { ProfileRoutingModule } from './profile-routing.module';\r\nimport { SharedModule } from '../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    IonicModule,\r\n    CommonModule,\r\n    SharedModule,\r\n    ExploreContainerComponentModule,\r\n    ProfileRoutingModule\r\n  ],\r\n  declarations: [Profile]\r\n})\r\nexport class ProfileModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormControl, FormGroup, NgForm, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { NgbdModalFocus } from '../modal/modal-focus';\r\nimport { User } from '../models/user';\r\nimport { StorageService } from '../services/storage.service';\r\n\r\n@Component({\r\n  selector: 'app-profile',\r\n  templateUrl: 'profile.html',\r\n  styleUrls: ['profile.scss']\r\n})\r\nexport class Profile implements OnInit{\r\n  public myAccount: User;\r\n\r\n  formProfile = new FormGroup({\r\n    firstName: new FormControl('',Validators.required),\r\n    lastName: new FormControl('', Validators.required),\r\n    address: new FormControl(''),\r\n    phone: new FormControl(''),\r\n    mail: new FormControl(''),\r\n    tva: new FormControl(''),\r\n    iban: new FormControl(''),\r\n    bic: new FormControl(''),\r\n  });\r\n  public modal = new NgbdModalFocus(this.modalS);\r\n  constructor(private modalS :NgbModal,private storageService: StorageService,private router: Router) {\r\n    console.log('Module profil');\r\n  }\r\n\r\n  async ngOnInit(): Promise<void>\r\n  {\r\n    console.log('nginit profil ',this.storageService.get('MyProfile'));\r\n\r\n    this.storageService.init();\r\n    let profile : User = await this.storageService.get('MyProfile');\r\n    if(profile!=null)\r\n    {\r\n        this.formProfile.setValue({\r\n          firstName: profile.firstName,\r\n          lastName: profile.lastName,\r\n          address: profile.address,\r\n          phone: profile.phone,\r\n          mail: profile.mail,\r\n          tva: profile.tva,\r\n          iban: profile.iban,\r\n          bic: profile.bic,\r\n        });\r\n    }else\r\n    {\r\n      this.formProfile.setValue({\r\n        firstName: '',\r\n        lastName:  '',\r\n        address:  '',\r\n        phone:  '',\r\n        mail:  '',\r\n        tva: '',\r\n        iban: '',\r\n        bic: '',\r\n      });\r\n    }\r\n  }\r\n\r\n  async UpdateProfile() {\r\n    const invalid = [];\r\n    const controls = this.formProfile.controls;\r\n    for (const name in controls) {\r\n      if (controls[name].invalid) {\r\n          let nom='';\r\n          if(name==='firstName')\r\n            nom='Prénom';\r\n          if(name==='lastName')\r\n            nom='Nom';\r\n          invalid.push(nom);\r\n      }\r\n    }\r\n    if (!this.formProfile.valid)\r\n    {\r\n      let res : string =null;\r\n      await this.modal.open('field',invalid.toString())\r\n      .then(result => result.result\r\n        .then((data) => {\r\n          res='OK';\r\n        }, (reason) => {\r\n        res='DISMISS' }\r\n        ));\r\n        return;\r\n    }\r\n\r\n    this.storageService.init();\r\n    this.myAccount = new User(\r\n      '17',\r\n      this.formProfile.get('firstName').value,\r\n      this.formProfile.get('lastName').value,\r\n      this.formProfile.get('address').value,\r\n      this.formProfile.get('phone').value,\r\n      this.formProfile.get('mail').value,\r\n      null,\r\n      this.formProfile.get('tva').value,\r\n      this.formProfile.get('iban').value,\r\n      this.formProfile.get('bic').value,\r\n\r\n    );\r\n\r\n    this.storageService.setProfile(this.myAccount);\r\n    console.log('Profil actualisé, redirection...');\r\n    this.router.navigate(['/tb-settings']);\r\n\r\n  }\r\n  GoBack()\r\n  {\r\n    this.router.navigate(['tb-settings'],{replaceUrl:true});\r\n  }\r\n}\r\n","export default \"<div id=\\\"container\\\">\\r\\n  <strong>{{ name }}</strong>\\r\\n  <p>Explore <a target=\\\"_blank\\\" rel=\\\"noopener noreferrer\\\" href=\\\"https://ionicframework.com/docs/components\\\">UI Components</a></p>\\r\\n</div>\";","export default \"<ion-header [translucent]=\\\"true\\\">\\r\\n  <ion-toolbar>\\r\\n    <ion-button (click)=\\\"GoBack()\\\">\\r\\n      <ion-icon name=\\\"arrow-back\\\"></ion-icon>\\r\\n      <ion-label>Retour</ion-label>\\r\\n    </ion-button>\\r\\n    <ion-title>\\r\\n      Acceuil\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n\\r\\n<ion-content [fullscreen]=\\\"true\\\">\\r\\n  <div class=\\\"container\\\">\\r\\n\\r\\n    <form [formGroup]=\\\"formProfile\\\" (ngSubmit)=\\\"UpdateProfile()\\\">\\r\\n      <ion-item class=\\\"form-group\\\" required=\\\"required\\\">\\r\\n        <ion-label position=\\\"floating\\\">Prénom</ion-label>\\r\\n        <ion-input type=\\\"text\\\" id=\\\"firstName\\\" placeholder=\\\"Your name..\\\" formControlName=\\\"firstName\\\" required=\\\"required\\\"></ion-input>\\r\\n      </ion-item>\\r\\n      <ion-item class=\\\"form-group\\\" required=\\\"required\\\">\\r\\n        <ion-label position=\\\"floating\\\">Nom</ion-label>\\r\\n        <ion-input type=\\\"text\\\" id=\\\"lastName\\\" placeholder=\\\"Your last name..\\\" formControlName=\\\"lastName\\\" required=\\\"required\\\"></ion-input>\\r\\n      </ion-item>\\r\\n      <ion-item class=\\\"form-group\\\" required=\\\"required\\\">\\r\\n        <ion-label position=\\\"floating\\\">Adresse</ion-label>\\r\\n        <ion-input type=\\\"text\\\" id=\\\"address\\\" placeholder=\\\"..\\\" formControlName=\\\"address\\\"></ion-input>\\r\\n      </ion-item>\\r\\n      \\r\\n      <ion-item class=\\\"form-group\\\">\\r\\n        <ion-label position=\\\"floating\\\">Phone</ion-label>\\r\\n        <ion-input type=\\\"text\\\" id=\\\"phone\\\" placeholder=\\\"...\\\" formControlName=\\\"phone\\\"></ion-input>\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-item class=\\\"form-group\\\">\\r\\n        <ion-label position=\\\"floating\\\">Mail</ion-label>\\r\\n        <ion-input type=\\\"text\\\" id=\\\"mail\\\" placeholder=\\\"...\\\" formControlName=\\\"mail\\\"></ion-input>\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-item class=\\\"form-group\\\">\\r\\n        <ion-label position=\\\"floating\\\">TVA</ion-label>\\r\\n        <ion-input type=\\\"text\\\" id=\\\"tva\\\" placeholder=\\\"...\\\" formControlName=\\\"tva\\\"></ion-input>\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-item class=\\\"form-group\\\">\\r\\n        <ion-label position=\\\"floating\\\">IBAN</ion-label>\\r\\n        <ion-input type=\\\"text\\\" id=\\\"iban\\\" placeholder=\\\"BE ...\\\" formControlName=\\\"iban\\\"></ion-input>\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-item class=\\\"form-group\\\">\\r\\n        <ion-label position=\\\"floating\\\">BIC</ion-label>\\r\\n        <ion-input type=\\\"text\\\" id=\\\"bic\\\" placeholder=\\\"...\\\" formControlName=\\\"bic\\\"></ion-input>\\r\\n      </ion-item>\\r\\n      \\r\\n      <button class=\\\"btn btn-secondary\\\" type=\\\"submit\\\">Actualiser profil</button>\\r\\n    </form>\\r\\n  </div>\\r\\n</ion-content>\";"],"names":[],"sourceRoot":"webpack:///"}