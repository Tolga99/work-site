{"version":3,"file":"src_app_shop_shop_module_ts.js","mappings":"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","sources":["./src/app/shop/shop-routing.module.ts","./src/app/shop/shop.module.ts","./src/app/shop/shop.ts","./src/app/shop/shop.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { Shop } from './shop';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Shop\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ShopRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ShopRoutingModule } from './shop-routing.module';\n\nimport { Shop } from './shop';\nimport { SharedModule } from '../shared/shared.module';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatMenuModule } from '@angular/material/menu';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ShopRoutingModule,\n    SharedModule,\n    MatCardModule,\n    MatIconModule,\n    MatMenuModule,\n  ],\n  declarations: [Shop]\n})\nexport class ShopModule {}\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { NgbdModalFocus } from '../modal/modal-focus';\r\nimport { Category } from '../models/category';\r\nimport { Chantier } from '../models/chantier';\r\nimport { Facture } from '../models/facture';\r\nimport { Product } from '../models/product';\r\nimport { StorageService } from '../services/storage.service';\r\n\r\n@Component({\r\n  selector: 'app-shop',\r\n  templateUrl: './shop.html',\r\n  styleUrls: ['./shop.scss'],\r\n})\r\nexport class Shop implements OnInit {\r\n\r\n  headElementsArt = ['Nom article', 'Description','Prix HTVA', 'Catégorie'];\r\n  artList : Array<Product> = [];\r\n  panierList : Array<Product> = [];\r\n  catList : Array<Category> = [];\r\n  actualCat : Category = null;\r\n\r\n  invoiceId : string;\r\n  chantierId : string;\r\n  type : string;\r\n\r\n  formArt = new FormGroup({\r\n    productName: new FormControl('',Validators.required),\r\n    description: new FormControl(''),\r\n    priceHtva: new FormControl('', [Validators.required]),\r\n  });\r\n\r\n  public modal = new NgbdModalFocus(this.modalS);\r\n  constructor(private modalS :NgbModal,private storageService:StorageService, private router:Router,private route:ActivatedRoute)\r\n  {\r\n  }\r\n\r\n  async ionViewDidEnter(){\r\n    this.catList = await this.storageService.get('Categories');\r\n    this.actualCat =this.catList.find(a => a.categoryId === this.route.snapshot.paramMap.get('actualCat'));\r\n\r\n    this.EnterCategory(this.actualCat);\r\n\r\n  }\r\n\r\n  async ngOnInit() {\r\n    this.storageService.init();\r\n    this.artList = await this.storageService.get('Articles');\r\n    this.catList = await this.storageService.get('Categories');\r\n\r\n    this.chantierId = this.route.snapshot.paramMap.get('chantierId');\r\n    this.invoiceId = this.route.snapshot.paramMap.get('invoiceId');\r\n    this.type = this.route.snapshot.paramMap.get('type');\r\n\r\n    if(this.catList!=null)\r\n      this.catList = this.catList.filter(a => a.categoryParent == null);\r\n  }\r\n  async EnterCategory(c : Category)\r\n  {\r\n    this.actualCat = c;\r\n    this.artList = await this.storageService.get('Articles'); // Dans les 2 cas on a besoin de la liste complete et actualisée\r\n    if(this.actualCat==null)\r\n    {\r\n      this.catList = await this.storageService.get('Categories');\r\n      if(this.catList!=null)\r\n        this.catList = this.catList.filter(a => a.categoryParent == null);\r\n    }else\r\n    {\r\n      this.catList = this.actualCat.subCategories;\r\n      if(this.artList!=null)\r\n        this.artList = this.artList.filter(a => a.categoryId === this.actualCat.categoryId);\r\n    }\r\n    // + refresh la liste en dessous avec les articles filtrés AUSSI\r\n  }\r\n  async BackCategory()\r\n  {\r\n    if(this.actualCat==null)\r\n      this.EnterCategory(null);\r\n    else this.EnterCategory(this.actualCat.categoryParent);\r\n    // REfresh articles\r\n  }\r\n  CreateProduct()\r\n  {\r\n    if(this.actualCat!=null)\r\n      this.router.navigate(['article-form',{actualCat : this.actualCat.categoryId}],{replaceUrl:true});\r\n    else this.router.navigate(['article-form']);\r\n  }\r\n\r\n  AddProduct(p : Product)\r\n  {\r\n    this.panierList.push(p);\r\n  }\r\n  RemoveProduct(p : Product)\r\n  {\r\n    this.panierList.splice(this.panierList.findIndex(a => a.productId === p.productId),1);\r\n  }\r\n  async SavePanier()\r\n  {\r\n    const chantierl : Array<Chantier> = await this.storageService.get('Chantiers');\r\n    const chantier = chantierl.find(a => a.chantierId === this.chantierId);\r\n    const chantierIndex = chantierl.findIndex(a => a.chantierId === this.chantierId);\r\n    let listInv : Array<Facture>;\r\n    if(this.type === 'facture')\r\n      listInv= chantier.factures;\r\n    else listInv = chantier.devis;\r\n    // let listInv : Array<Facture> = await this.storageService.get(\"Invoices=\"+this.chantierId);\r\n    if(listInv!=null)\r\n    {\r\n      const inv = listInv.find(a => a.factureId === this.invoiceId);\r\n      let invIndex : number;\r\n      if(inv!=null)\r\n      {\r\n        invIndex= listInv.findIndex(a => a.factureId === this.invoiceId);\r\n\r\n        inv.products= this.panierList;\r\n        listInv[invIndex]= inv;\r\n      }else\r\n      {\r\n        const newInv = new Facture(this.invoiceId,\r\n                                  null,\r\n                                  null,\r\n                                  null,\r\n                                  null,\r\n                                  null,\r\n                                  null,\r\n                                  null,\r\n                                  null,\r\n                                  null,\r\n                                  null,\r\n                                  this.panierList,\r\n                                  'creation',\r\n                                  this.type);\r\n        listInv.push(newInv);\r\n      }\r\n    }\r\n    else\r\n    {\r\n      listInv = new Array<Facture>();\r\n      const newInv = new Facture(this.invoiceId,\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        this.panierList,\r\n        'creation',\r\n        this.type);\r\n      listInv.push(newInv);\r\n    }\r\n\r\n    if(this.type === 'facture')\r\n      chantier.factures= listInv;\r\n    else chantier.devis= listInv;\r\n    chantierl[chantierIndex] = chantier;\r\n    this.storageService.set('Chantiers',chantierl);\r\n    this.router.navigate(['/invoice',\r\n                        {invoiceId: this.invoiceId,type: this.type, chantierId : this.chantierId, mode:'false'}],\r\n                        {replaceUrl:true});\r\n  }\r\n  GoBack()\r\n  {\r\n    this.router.navigate(['invoice',\r\n                        {invoiceId: this.invoiceId,type: this.type, chantierId : this.chantierId, mode:'false'}],\r\n                        {replaceUrl:true});\r\n  }\r\n  async AddFastProduct()\r\n  {\r\n    const invalid = [];\r\n    const controls = this.formArt.controls;\r\n    for (const name in controls) {\r\n      if (controls[name].invalid) {\r\n        let nom='';\r\n        if(name==='productName')\r\n          nom='Nom article';\r\n        if(name==='priceHtva')\r\n          nom='Prix HTVA';\r\n        invalid.push(nom);\r\n      }\r\n    }\r\n    if (!this.formArt.valid)\r\n    {\r\n      let res : string =null;\r\n      await this.modal.open('field',invalid.toString())\r\n      .then(result => result.result\r\n        .then((data) => {\r\n          res='OK';\r\n        }, (reason) => {\r\n        res='DISMISS' }\r\n        ));\r\n        return;\r\n    }\r\n    let p = new Product(\r\n      '-1',\r\n      this.formArt.get('productName').value,\r\n      this.formArt.get('description').value,\r\n      this.formArt.get('priceHtva').value,\r\n      null,\r\n      null,\r\n    );\r\n    this.panierList.push(p);\r\n\r\n  }\r\n}","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-button (click)=\\\"GoBack()\\\">\\n      <ion-icon name=\\\"arrow-back\\\"></ion-icon>\\n      <ion-label>Retour</ion-label>\\n    </ion-button>\\n  </ion-toolbar>\\n</ion-header>\\n<div style=\\\"overflow-y: auto;\\\">\\n\\n  <div class=\\\"container\\\" style=\\\"overflow-y: auto;\\\">\\n    <div class=\\\"row\\\">\\n      <mat-card class=\\\"example-card col-4\\\" *ngFor=\\\"let el of catList\\\">\\n        <mat-card-title-group (click)=\\\"EnterCategory(el)\\\">\\n          <mat-card-title>{{el.categoryName}}</mat-card-title>\\n          <mat-card-subtitle>{{el.description}}</mat-card-subtitle>\\n          <img mat-card-lg-image src=\\\"{{el.categoryImage}}\\\">\\n        </mat-card-title-group>\\n      </mat-card>\\n    </div>\\n\\n    <div class=\\\"card-footer text-muted\\\">\\n      <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" (click)=\\\"BackCategory()\\\">Go back</button>\\n    </div>\\n  </div>\\n  <hr>\\n  <div class=\\\"card-header\\\">\\n    Mes articles\\n  </div>\\n  <div class=\\\"col-auto table-wrapper-scroll-y my-custom-scrollbar\\\">\\n    <table class=\\\"table table-bordered table-striped mb-0\\\">\\n\\n      <thead>\\n        <tr>\\n          <th *ngFor=\\\"let head of headElementsArt\\\" scope=\\\"col\\\">{{head}} </th>\\n        </tr>\\n      </thead>\\n      <tbody>\\n        <tr mdbTableCol *ngFor=\\\"let p of artList\\\">\\n          <!-- <th scope=\\\"row\\\">{{el.id}}</th> -->\\n          <td>{{p.productName}}</td>\\n          <td>{{p.description}}</td>\\n          <td>{{p.priceHtva}}</td>\\n          <td>\\n            <button mat-menu-item type=\\\"button\\\" (click)=\\\"AddProduct(p)\\\">\\n              <mat-icon>add</mat-icon>\\n              <span>Ajouter au panier</span>\\n            </button>\\n          </td>\\n          <!-- <td>{{p.categoryId}}</td> -->\\n          <!-- <td>\\n            <button mat-icon-button [matMenuTriggerFor]=\\\"menu\\\">\\n              <mat-icon>more_horiz</mat-icon>\\n            </button>\\n            <mat-menu #menu=\\\"matMenu\\\">\\n              <button mat-menu-item (click)=\\\"ModifyProduct(p)\\\">\\n                <mat-icon>edit</mat-icon>\\n                <span>Modifier</span>\\n              </button>\\n              <button mat-menu-item (click)=\\\"DeleteProduct(p)\\\">\\n                <mat-icon>delete</mat-icon>\\n                <span>Supprimer</span>\\n              </button>\\n            </mat-menu>\\n          </td> -->\\n        </tr>\\n      </tbody>\\n    </table>\\n\\n  </div>\\n  <hr>\\n\\n  <form [formGroup]=\\\"formArt\\\" (ngSubmit)=\\\"AddFastProduct()\\\">\\n\\n    <div class=\\\"card-header\\\">\\n      Création rapide d'article\\n    </div>\\n    <div class=\\\"col-auto table-wrapper-scroll-y my-custom-scrollbar\\\">\\n      <label for=\\\"productName\\\">Nom article</label>\\n      <input type=\\\"text\\\" id=\\\"productName\\\" name=\\\"productName\\\" formControlName=\\\"productName\\\" placeholder=\\\"...\\\"\\n        required=\\\"required\\\">\\n\\n      <label for=\\\"description\\\">Description</label>\\n      <textarea id=\\\"description\\\" name=\\\"description\\\" formControlName=\\\"description\\\" placeholder=\\\"...\\\"\\n        style=\\\"height:100px;\\\"></textarea>\\n\\n      <label for=\\\"priceHtva\\\">Prix HTVA</label>\\n      <input type=\\\"text\\\" id=\\\"priceHtva\\\" name=\\\"priceHtva\\\" formControlName=\\\"priceHtva\\\" placeholder=\\\"...\\\"\\n        required=\\\"required\\\">\\n    </div>\\n    <div class=\\\"card-footer text-muted\\\">\\n      <button type=\\\"submit\\\" class=\\\"btn btn-secondary\\\">Ajouter article au panier</button>\\n    </div>\\n  </form>\\n  <hr>\\n  <div class=\\\"card-header\\\">\\n    Panier\\n  </div>\\n  <div class=\\\"col-auto table-wrapper-scroll-y my-custom-scrollbar\\\">\\n    <table class=\\\"table table-bordered table-striped mb-0\\\">\\n\\n      <thead>\\n        <tr>\\n          <th *ngFor=\\\"let head of headElementsArt\\\" scope=\\\"col\\\">{{head}} </th>\\n        </tr>\\n      </thead>\\n      <tbody>\\n        <tr mdbTableCol *ngFor=\\\"let p of panierList\\\">\\n          <!-- <th scope=\\\"row\\\">{{el.id}}</th> -->\\n          <td>{{p.productName}}</td>\\n          <td>{{p.description}}</td>\\n          <td>{{p.priceHtva}}</td>\\n          <!-- <td>{{p.categoryId}}</td> -->\\n          <td>\\n            <!-- <button mat-icon-button [matMenuTriggerFor]=\\\"menu\\\">\\n              <mat-icon>more_horiz</mat-icon>\\n            </button>\\n            <mat-menu #menu=\\\"matMenu\\\">\\n              <button mat-menu-item (click)=\\\"ModifyProduct(p)\\\">\\n                <mat-icon>edit</mat-icon>\\n                <span>Modifier</span>\\n              </button> -->\\n            <button mat-menu-item (click)=\\\"RemoveProduct(p)\\\">\\n              <mat-icon>delete</mat-icon>\\n              <span>Supprimer</span>\\n            </button>\\n            <!-- </mat-menu> -->\\n          </td>\\n        </tr>\\n      </tbody>\\n    </table>\\n\\n  </div>\\n  <div class=\\\"card-footer text-muted\\\">\\n    <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" (click)=\\\"CreateProduct()\\\">Ajouter article au panier</button>\\n  </div>\\n  <div>\\n    <button type=\\\"button\\\" class=\\\"btn btn-danger\\\" (click)=\\\"SavePanier()\\\">Finaliser</button>\\n  </div>\\n</div>\";"],"names":[],"sourceRoot":"webpack:///"}